<div class="conteudo_titulo">
    <h1>Fritadeiras</h1>
</div>
<hr/>
<br>
<div class="conteudo_infos mx-auto" style="width: 300px;">
    <%= form_with(model: @fritadeira, local: true) do |form| %>
        <% if @fritadeira.errors.any? %>
            <div id="error_explanation">
                <h2><%= pluralize(@fritadeira.errors.count, "erro") %> ocorreu ao salvar a categoria:</h2>
                <ul>
                <% @fritadeira.errors.full_messages.each do |msg| %>
                    <li><%= msg %></li>
                <% end %>
                </ul>
            </div>
        <% end %>
        

        <div class="mb-3">
            <%= form.label :modelo, class: "form-label" %>
            <%= form.select :modelo, [["Tacho", "Tacho"], ["Cuba", "Cuba"]], { prompt: "Selecione um modelo" }, class: "form-select" %>
        </div>

        <div class="mb-3">
            <%= form.label :Cod_interno, "Codigo Interno", class: "form-label" %>
            <%= form.text_field :cod_interno, class: "form-control" %>
        </div>

        <div class="mb-3">
            <%= form.label :capacidade, class: "form-label" %>
            <%= form.select :capacidade, Fritadeira.capacidades.keys.map { |key| [key, key] }, { prompt: "Selecione a capacidade" }, class: "form-select" %>
        </div>

        <div class="mb-3">
            <%= form.label :voltagem, class: "form-label" %>
            <%= form.select :voltagem, Fritadeira.voltagems.keys.map { |key| [key.capitalize, key] }, { prompt: "Selecione a voltagem" }, class: "form-select" %>
        </div>

                    
        <div class="mb-3">
            <%= form.label :category_id, "Categoria", class: "form-label" %>
            <select class="form-select" aria-label="Selecione uma categoria" name="fritadeira[category_id]">
                <% Category.all.each do |category| %>
                <% if category.id == 1 %>
                    <option value="<%= category.id %>" selected><%= category.name %></option>
                <% else %>
                    <option value="<%= category.id %>"><%= category.name %></option>
                <% end %>    
                <% end %>
            </select>
        </div>

        <div class="mb-3">
            <%= form.label :classe_id, "Classe", class: "form-label" %>
            <select class="form-select" aria-label="Selecione uma Classe" name="fritadeira[classe_id]">
                <% Classe.all.each do |classe| %>
                <% if classe.id == 2 %> <!-- Verifica se a classe atual é a mesma que está selecionada -->
                    <option value="<%= classe.id %>" selected><%= classe.nome %></option>
                <% else %>
                    <option value="<%= classe.id %>"><%= classe.nome %></option>
                <% end %>
                <% end %>
            </select>
        </div>

        
        <div class="mt-3">
            <%= form.submit 'Salvar', class: "btn btn-primary" %>
            <%= link_to 'Voltar', fritadeiras_path, class: "btn btn-danger" %>
        </div>
    <% end %>
    
</div>  